+++
date = '2025-09-29T08:51:56+08:00'
draft = false
title = '快速建站-5，为博客添加评论系统'
categories = ['快速建站教程']
tags = ['hugo', '评论', 'giscus']
slug = 'Quick-website-building-5'
+++

作为一个静态网站，理论上是不支持评论这种动态内容的，但[MemE]主题可以配置多种第三方托管的评论系统，经过权衡，最终我选择了[giscus]作为我博客的评论系统。

## 关于giscus

[giscus]是一个[开元]的无后端评论系统，基于[GitHub Discussions]完成评论，也就是说，你的每一条评论都在github上。

当然这也有缺点，那就是有些用户无法连接到[github]，这就让获取或添加评论造成麻烦，但这也是没办法的，这已经是相对最简单的部署评论系统的方法了，相比第三方托管的其他评论系统来说已经非常好了，毕竟你也不希望让那些第三方评论系统给你博客搞一堆广告吧。

## 添加评论系统

### 创建仓库

由于它是基于[github Discussions]的，所以肯定要有个仓库来存储这些评论。

首先先[创建存储库]，只强调一点，存储库必须是公开的，名字啥的随意，比如我的就是`my-blog-comment-system`,描述、readme、license都随意，想添加就添加，然后点击创建。

然后转到你刚创建的存储库，点击存储库里的设置，找到`Features`这里，勾选`Discussions is the space for your community to have conversations, ask questions and post answers without opening issues.`，然后返回就行了。

### 安装giscus

我们还要把[giscus]作为[github apps]安装到你的存储库，[点此安装giscuss]，点击`install`，选择为单个存储库安装，然后选择刚刚创建的存储库，点安装按钮，稍等几秒钟就ok了。

### 生成giscus配置

访问[giscus]网站，仓库名这里写你的昵称/仓库名，比如我的就是`fltx2004/my-blog-comment-system`，写完下面就会有`成功！该仓库满足所有条件。`的提示了。

后面还有一些配置，按需选择，建议单选按钮那里最好不要改动，分类建议选择`Announcements`，严格标题匹配可以勾选,不建议选中元数据，然后找到复制按钮复制代码到剪贴板。

代码类似这样

```
<script src="https://giscus.app/client.js"
        data-repo="fltx2004/my-blog-comment-system"
        data-repo-id=""
        data-category="Announcements"
        data-category-id=""
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
```

### 更改主题配置

打开网站根目录的`config.toml`，查找`评论`，开启评论：`enableComments = true`，直接加载评论不建议开启，可能会拖慢网站加载速度，建议想看评论在手动点击加载评论按钮会好些。

然后查找`giscus`，启用它：`enableGiscus = true`，后面的内容参照剪贴板，区别就是配置里的参数名都已giscus开头，而复制的代码都是data开头，剩下的参数并无区别，但是我们只需要引号内的内容，仓库名、仓库ID、分类、分类ID、路径匹配，只需要引号内的内容。剩下的一些开关复制的代码是用的0和1表示开关，0关闭，1开启，而主题内用的是true和false，记得不要直接写上数字了。剩下的，`strict`是严格标题匹配，建议开启；`reactions`是表情回应；`EmitMetaData`是元数据，不建议开启；`InputPosition`是评论框的位置，支持顶部和底部，区别就是一个在评论内容上面，一个在下面，建议选择在上面，不至于还要拉到最下面在写评论；主题颜色不要更改。

其实你主要填写前面那几个就行了，唯一需要改的就是严格标题匹配，剩下的都保持主题配置默认就行了。

我的配置参考

```
    enableGiscus = true
    giscusRepo = "fltx2004/my-blog-comment-system"
    giscusRepoId = ""
    giscusCategory = "Announcements"
    giscusCategoryId = ""
    giscusMapping = "pathname"
    giscusStrict = true
    giscusReactionsEnabled = true
    giscusEmitMetaData = false
    giscusInputPosition = "top"
    giscusTheme = "light"
    giscusThemeDark = "dark"
    giscusLang = "zh-CN"
```

## 结束

生成站点尝试下吧，在返回顶部的地方应该有个加载评论的文本，点一下就可以出评论了，想要评论要登录你的github账号哦，评论支持markdown，快去试试效果吧，或者你也可以在我的博客的评论区尝试下效果。

[GitHub apps]: https://docs.github.com/en/apps
[MemE]: https://github.com/reuixiy/hugo-theme-meme
[开元]: https://github.com/giscus/giscus
[github Discussions]: https://docs.github.com/zh/discussions
[github]: https://github.com
[giscus]: https://giscus.app/zh-CN
[创建存储库]: https://github.com/new
[点此安装giscuss]: https://github.com/apps/giscus